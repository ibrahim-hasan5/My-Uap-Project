{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/gallery.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/courses.css' %}">
    <!--link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"-->

    <style>
        .course-card {
         background: linear-gradient(135deg, #f3e8ff, #e6e6fa, #ede1ff, #f8f0ff);
         border-radius: 12px;
         overflow: hidden;
         box-shadow: 0 4px 10px var(--shadow-color);
         padding: 20px;
         text-align: center;
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         max-height: 250px;
         min-height: 150px;
         transition: transform 0.3s ease-in-out;
        }
        .course-card:hover {
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        .hp {
            color: #e74c3c;
            font-size: 0.85rem;
        }
        .sp {
            color: #3498db;
            font-size: 0.85rem;
        }
    </style>
{% endblock %}

{% block content %}

<a href="{% url 'add-course' %}">Add course</a>
<!-- 1st year 1st semester-->
<section class="section py-5" id="1stYear1stSemester">
    <h2 class="sub-heading mb-4">1st Year 1st Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '1st' and course.semester == '1st' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

        <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>

        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 1st year 2nd semester-->
<section class="section py-5" id="1stYear2ndSemester">
    <h2 class="sub-heading mb-4">1st Year 2nd Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '1st' and course.semester == '2nd' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                             <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 2nd year 1st semester-->
<section class="section py-5" id="2ndYear1stSemester">
    <h2 class="sub-heading mb-4">2nd Year 1st Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '2nd' and course.semester == '1st' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 2nd year 2nd semester-->
<section class="section py-5" id="2ndYear2ndSemester">
    <h2 class="sub-heading mb-4">2nd Year 2nd Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '2nd' and course.semester == '2nd' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 3rd year 1st semester-->
<section class="section py-5" id="3rdYear1stSemester">
    <h2 class="sub-heading mb-4">3rd Year 1st Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '3rd' and course.semester == '1st' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 3rd year 2nd semester-->
<section class="section py-5" id="3rdYear2ndSemester">
    <h2 class="sub-heading mb-4">3rd Year 2nd Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '3rd' and course.semester == '2nd' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 4th year 1st semester-->
<section class="section py-5" id="4thYear1stSemester">
    <h2 class="sub-heading mb-4">4th Year 1st Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '4th' and course.semester == '1st' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- 4th year 2nd semester-->
<section class="section py-5" id="4thYear2ndSemester">
    <h2 class="sub-heading mb-4">4th Year 2nd Semester</h2>
    <div class="row g-3">
        {% for course in courses %}
        {% if course.year == '4th' and course.semester == '2nd' %}
        <div class="col-md-3 col-sm-6">
            <div class="course-card">
                <strong>{{ course.code }}</strong><br>
                {{ course.title }}<br>Credit:{{course.credit}}<br>
                <a href="{% url 'update-course' course.id %}">Update Course</a>
                <a href="{% url 'set-prerequisite' course.id %}">Set Prerequisite</a>
                <a href="{% url 'delete-course' course.id %}">Delete</a>
                <div class="hp">Prerequisite:
                {% for prerequisite in prerequisites %}
                {% if course == prerequisite.course %}
                 {{ prerequisite.prerequisite }}
                {% endif %}
                {% endfor %}
                </div>
                <a href="#modal-{{ course.id }}" class="custom-read-more">Learn More</a>
            </div>
        </div>

         <!-- Modal for this Course -->
                <div id="modal-{{ course.id }}" class="modal">
                    <div class="modal-content">
                        <a href="#" class="close-modal">&times;</a>
                        <div class="modal-header">
                            <h2 class="modal-title">{{ course.title }}</h2>
                            <p class="modal-motto">{{ course.code }}</p>
                            <div class="hp">Prerequisite:
                              {% for prerequisite in prerequisites %}
                              {% if course == prerequisite.course %}
                              {{ prerequisite.prerequisite }}
                              {% endif %}
                              {% endfor %}
                              </div>
                        </div>
                        <div class="modal-body">
                            <p>{{ course.description|safe }}</p>
                        </div>
                    </div>
                </div>
        {% endif %}
        {% endfor %}
    </div>
</section>
<a href="{% url 'add-course' %}">Add course</a>
{% endblock %}